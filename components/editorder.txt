Giai Äoáº¡n 1: XÃ¢y Dá»±ng Ná»n Táº£ng Bá»‘ Cá»¥c vÃ  Äiá»u HÆ°á»›ng (BÆ°á»›c 1-5)
Má»¥c tiÃªu cá»§a giai Ä‘oáº¡n nÃ y lÃ  thiáº¿t láº­p bá»™ khung cáº¥u trÃºc má»›i cho toÃ n bá»™ giao diá»‡n, táº­n dá»¥ng cÃ¡c component Ä‘iá»u phá»‘i chÃ­nh cá»§a báº¡n.
BÆ°á»›c 1: Cá»§ng Cá»‘ FamilyTree lÃ m MÃ n HÃ¬nh Trung TÃ¢m
HÃ nh Ä‘á»™ng: Trong GameUI.tsx, xÃ¡c nháº­n logic hiá»ƒn thá»‹ activeScene máº·c Ä‘á»‹nh lÃ  tree. ÄÃ¢y lÃ  mÃ n hÃ¬nh chÃ­nh, nÆ¡i ngÆ°á»i chÆ¡i sáº½ dÃ nh pháº§n lá»›n thá»i gian.
Chi tiáº¿t: Táº­n dá»¥ng PanGestureHandler vÃ  PinchGestureHandler Ä‘Ã£ cÃ³ trong FamilyTree.tsx Ä‘á»ƒ Ä‘áº£m báº£o tráº£i nghiá»‡m kÃ©o vÃ  thu phÃ³ng lÃ  cá»‘t lÃµi cá»§a tÆ°Æ¡ng tÃ¡c chÃ­nh.
BÆ°á»›c 2: Thiáº¿t Káº¿ Láº¡i HoÃ n ToÃ n HUD trong GameUI.tsx
HÃ nh Ä‘á»™ng: Sá»­a Ä‘á»•i pháº§n Header cá»§a GameUI.tsx.
Loáº¡i bá»: Di chuyá»ƒn Picker tá»‘c Ä‘á»™ game vÃ  nÃºt "Quit Game" ra khá»i HUD chÃ­nh.
Bá»‘ cá»¥c má»›i (TrÃ¡i qua Pháº£i):
Icon Menu (â˜°): Äáº·t á»Ÿ gÃ³c trÃªn cÃ¹ng bÃªn trÃ¡i.
TÃªn Gia ÄÃ¬nh: Äáº·t á»Ÿ giá»¯a, ná»•i báº­t.
Cá»¥m TÃ i NguyÃªn (bÃªn pháº£i): Sáº¯p xáº¿p láº¡i Ä‘á»ƒ hiá»ƒn thá»‹: Icon TrÃ¡i tim, Icon Tiá»n (MoneyIcon tá»« icons.tsx) vá»›i gameState.familyFund, vÃ  tá»‘c Ä‘á»™ kiáº¿m tiá»n.
NgÃ y thÃ¡ng & Äiá»u khiá»ƒn: Äáº·t ngÃ y thÃ¡ng vÃ  nÃºt Play/Pause ngay bÃªn dÆ°á»›i cá»¥m tÃ i nguyÃªn.
LÃ½ do: Táº¡o ra má»™t HUD sáº¡ch sáº½, táº­p trung vÃ o cÃ¡c chá»‰ sá»‘ cá»‘t lÃµi, giá»‘ng há»‡t game máº«u.
BÆ°á»›c 3: Táº¡o Component SideMenu.tsx (Menu Phá»¥)
HÃ nh Ä‘á»™ng: Táº¡o má»™t component má»›i. Menu nÃ y sáº½ Ä‘Æ°á»£c kÃ­ch hoáº¡t bá»Ÿi icon Menu (â˜°) á»Ÿ BÆ°á»›c 2.
Ná»™i dung: Chuyá»ƒn cÃ¡c chá»©c nÄƒng Ä‘Ã£ loáº¡i bá» á»Ÿ BÆ°á»›c 2 vÃ o Ä‘Ã¢y:
CÃ¡c nÃºt Ä‘iá»u khiá»ƒn tá»‘c Ä‘á»™ game.
NÃºt "HÆ°á»›ng Dáº«n" (kÃ­ch hoáº¡t onShowInstructions Ä‘á»ƒ má»Ÿ InstructionsModal).
CÃ¡c nÃºt cÃ i Ä‘áº·t vÃ  thoÃ¡t game khÃ¡c.
BÆ°á»›c 4: TÃ¡i Cáº¥u TrÃºc BottomNav
HÃ nh Ä‘á»™ng: Sá»­a Ä‘á»•i component BottomNav Ä‘Æ°á»£c render trong GameUI.tsx.
Loáº¡i bá» cÃ¡c tab hiá»‡n táº¡i: log, assets, business.
CÃ¡c tab má»›i:
Tab TrÃ¡i - Love: Icon trÃ¡i tim â¤ï¸ (cÃ³ thá»ƒ cÃ³ icon khÃ³a ğŸ”’).
Tab Giá»¯a - Family: Icon cÃ¢y gia pháº£ ğŸŒ³. ÄÃ¢y lÃ  tab máº·c Ä‘á»‹nh, Ä‘Æ°á»£c chá»n sáºµn.
Tab Pháº£i - Assets & Career: Icon Ä‘á»“ng tiá»n ğŸ’°. Khi Ä‘Æ°á»£c nháº¥n, nÃ³ sáº½ thay Ä‘á»•i activeScene thÃ nh má»™t giÃ¡ trá»‹ má»›i, vÃ­ dá»¥ assets.
BÆ°á»›c 5: Tinh Chá»‰nh Visual cá»§a CharacterNode.tsx
HÃ nh Ä‘á»™ng: Sá»­a Ä‘á»•i CharacterNode.tsx. BÃ¡o cÃ¡o cá»§a báº¡n cho tháº¥y nÃ³ Ä‘Ã£ ráº¥t máº¡nh máº½ (responsive, cÃ³ huy hiá»‡u tuá»•i, viá»n mÃ u cho nhÃ¢n váº­t chÃ­nh). Giá» hÃ£y táº­p trung vÃ o phong cÃ¡ch.
Thay Ä‘á»•i: Cáº­p nháº­t StyleSheet Ä‘á»ƒ CharacterNode cÃ³ dáº¡ng má»™t vÃ²ng trÃ²n lá»›n chá»©a avatar, vá»›i tÃªn/tuá»•i á»Ÿ dÆ°á»›i. Giá»¯ láº¡i pháº§n hiá»ƒn thá»‹ thu nháº­p rÃ²ng nhÆ°ng lÃ m cho nÃ³ tinh táº¿ hÆ¡n. Má»¥c tiÃªu lÃ  lÃ m cho cÃ¢y gia pháº£ trÃ´ng giá»‘ng áº¢nh 7.
Giai Äoáº¡n 2: Äáº¡i Tu Há»‡ Thá»‘ng HÃ¬nh áº¢nh (BÆ°á»›c 6-10)
ÄÃ¢y lÃ  giai Ä‘oáº¡n cá»‘t lÃµi Ä‘á»ƒ thay Ä‘á»•i "cáº£m giÃ¡c" cá»§a game, táº­p trung vÃ o cÃ¡c component ná»n táº£ng nháº¥t.
BÆ°á»›c 6: Táº¡o LifeSimModal.tsx Ä‘á»ƒ Thay Tháº¿ HoÃ n ToÃ n ComicPanelModal.tsx
HÃ nh Ä‘á»™ng: XÃ¢y dá»±ng má»™t component modal ná»n táº£ng má»›i LifeSimModal.tsx.
Äáº·c Ä‘iá»ƒm: Ná»n xanh lam Ä‘áº­m, bo gÃ³c cá»±c lá»›n, cÃ³ thanh tiÃªu Ä‘á». Khi xuáº¥t hiá»‡n, nÃ³ lÃ m má» ná»n phÃ­a sau.
LÃ½ do: ComicPanelModal vá»›i "viá»n vÃ ng dÃ y" vÃ  "xoay nháº¹" lÃ  Ä‘áº·c trÆ°ng cá»§a phong cÃ¡ch cÅ©. Viá»‡c thay tháº¿ nÃ³ lÃ  bÆ°á»›c quan trá»ng nháº¥t Ä‘á»ƒ Ä‘áº¡t Ä‘Æ°á»£c giao diá»‡n má»›i.
BÆ°á»›c 7: Thiáº¿t Káº¿ Láº¡i ChoiceButton.tsx
HÃ nh Ä‘á»™ng: Sá»­a Ä‘á»•i file ChoiceButton.tsx.
Chi tiáº¿t: BÃ¡o cÃ¡o cá»§a báº¡n mÃ´ táº£ nÃ³ cÃ³ "hoáº¡t áº£nh nháº¥n tinh táº¿" vÃ  "kiá»ƒu dÃ¡ng chunky". HÃ£y giá»¯ láº¡i logic hoáº¡t áº£nh tá»« react-native-reanimated nhÆ°ng thay Ä‘á»•i hoÃ n toÃ n StyleSheet:
Bá» viá»n dÆ°á»›i dÃ y.
Äá»•i ná»n thÃ nh mÃ u xanh lam (tá»« designSystem).
Chá»¯ mÃ u tráº¯ng, bo gÃ³c lá»›n.
ThÃªm prop variant="special" Ä‘á»ƒ Ä‘á»•i ná»n thÃ nh mÃ u xanh lÃ¡.
BÆ°á»›c 8: Má»Ÿ Rá»™ng designSystem.ts
HÃ nh Ä‘á»™ng: ÄÃ¢y lÃ  "trÃ¡i tim" cá»§a viá»‡c thay Ä‘á»•i. Má»Ÿ file designSystem.ts.
Cáº­p nháº­t:
Trong colors, Ä‘á»‹nh nghÄ©a báº£ng mÃ u má»›i: cÃ¡c sáº¯c thÃ¡i xanh lam, xanh lÃ¡, vÃ ng cá»§a game máº«u.
Trong typography, Ä‘á»‹nh nghÄ©a má»™t font chá»¯ má»›i (sans-serif, trÃ²n trá»‹a).
Ãp dá»¥ng: Báº¯t Ä‘áº§u import vÃ  sá»­ dá»¥ng cÃ¡c mÃ u sáº¯c vÃ  kiá»ƒu chá»¯ má»›i nÃ y trong cÃ¡c component báº¡n chá»‰nh sá»­a.
BÆ°á»›c 9: Äáº¡i Tu CharacterDetailModal.tsx
HÃ nh Ä‘á»™ng: ÄÃ¢y lÃ  má»™t dá»± Ã¡n nhá» trong dá»± Ã¡n lá»›n. Thiáº¿t káº¿ láº¡i hoÃ n toÃ n CharacterDetailModal.tsx Ä‘á»ƒ khá»›p vá»›i áº¢nh 4.
Checklist:
Loáº¡i bá» Tab Navigation ("Chi tiáº¿t" vÃ  "Sá»± kiá»‡n cuá»™c Ä‘á»i").
Sá»­ dá»¥ng LifeSimModal lÃ m container.
Bá»‘ cá»¥c dá»c: Avatar trÃ²n lá»›n á»Ÿ trÃªn -> cÃ¡c thanh StatBar -> thÃ´ng tin dáº¡ng danh sÃ¡ch -> lá»‹ch sá»­ há»c váº¥n/sá»± nghiá»‡p.
BÆ°á»›c 10: NÃ¢ng Cáº¥p StatBar.tsx
HÃ nh Ä‘á»™ng: Component nÃ y Ä‘Ã£ ráº¥t máº¡nh máº½ vá»›i StarAnimation vÃ  SmokeAnimation. HÃ£y táº­p trung vÃ o viá»‡c tÃ¡i thiáº¿t káº¿ giao diá»‡n cá»§a nÃ³.
Thay Ä‘á»•i: Cáº­p nháº­t StyleSheet Ä‘á»ƒ thanh tiáº¿n trÃ¬nh, icon vÃ  vÄƒn báº£n khá»›p vá»›i phong cÃ¡ch cá»§a game máº«u (thanh máº£nh hÆ¡n, mÃ u sáº¯c tá»« designSystem). Äáº£m báº£o StarAnimation (cho chá»‰ sá»‘ tÄƒng) vÃ  SmokeAnimation (cho chá»‰ sá»‘ giáº£m) váº«n hoáº¡t Ä‘á»™ng mÆ°á»£t mÃ .
Giai Äoáº¡n 3: TÃ­ch Há»£p vÃ  Tinh Chá»‰nh Component (BÆ°á»›c 11-15)
Ãp dá»¥ng há»‡ thá»‘ng hÃ¬nh áº£nh má»›i má»™t cÃ¡ch cÃ³ há»‡ thá»‘ng trÃªn toÃ n bá»™ cÃ¡c component tÆ°Æ¡ng tÃ¡c.
BÆ°á»›c 11: TÃ¡i Cáº¥u TrÃºc ModalManager.tsx
HÃ nh Ä‘á»™ng: Má»Ÿ ModalManager.tsx. ÄÃ¢y lÃ  nÆ¡i báº¡n cÃ³ thá»ƒ thá»±c hiá»‡n thay Ä‘á»•i trÃªn diá»‡n rá»™ng.
Nhiá»‡m vá»¥: TÃ¬m táº¥t cáº£ cÃ¡c component modal Ä‘Æ°á»£c render cÃ³ Ä‘iá»u kiá»‡n (EventModal, SchoolChoiceModal, v.v.). Trong má»—i component Ä‘Ã³, thay tháº¿ wrapper <ComicPanelModal> báº±ng <LifeSimModal> má»›i.
BÆ°á»›c 12: Ãp Dá»¥ng Phong CÃ¡ch Má»›i cho EventModal.tsx
HÃ nh Ä‘á»™ng: Má»Ÿ EventModal.tsx.
Checklist:
Äáº£m báº£o nÃ³ sá»­ dá»¥ng LifeSimModal.
Thay tháº¿ cÃ¡c nÃºt lá»±a chá»n báº±ng ChoiceButton Ä‘Ã£ Ä‘Æ°á»£c thiáº¿t káº¿ láº¡i.
Sáº¯p xáº¿p láº¡i bá»‘ cá»¥c bÃªn trong Ä‘á»ƒ khá»›p vá»›i áº¢nh 2 (avatar, mÃ´ táº£, cÃ¡c nÃºt).
Pháº§n káº¿t quáº£ (Outcome Section) cáº§n hiá»ƒn thá»‹ thay Ä‘á»•i chá»‰ sá»‘ vÃ  tiá»n báº¡c má»™t cÃ¡ch rÃµ rÃ ng nhÆ° áº¢nh 3.
BÆ°á»›c 13: Cáº­p Nháº­t HÃ ng Loáº¡t CÃ¡c Modal Lá»±a Chá»n KhÃ¡c
HÃ nh Ä‘á»™ng: Thá»±c hiá»‡n quy trÃ¬nh tÆ°Æ¡ng tá»± nhÆ° BÆ°á»›c 12 cho cÃ¡c component sau: SchoolChoiceModal, CareerChoiceModal, UniversityChoiceModal, ClubChoiceModal, LoanModal, UnderqualifiedChoiceModal.
Má»¥c tiÃªu: Äáº£m báº£o má»i mÃ n hÃ¬nh lá»±a chá»n Ä‘á»u mang láº¡i cáº£m giÃ¡c nháº¥t quÃ¡n.
BÆ°á»›c 14: TÃ­ch há»£p AvatarBuilder.tsx
HÃ nh Ä‘á»™ng:
Trong CharacterDetailModal (Ä‘Ã£ lÃ m láº¡i á»Ÿ BÆ°á»›c 9), Ä‘áº£m báº£o nÃºt "Customize" gá»i onCustomize.
Logic trong GameUI hoáº·c ModalManager sáº½ hiá»ƒn thá»‹ AvatarBuilder.tsx.
Cáº­p nháº­t UI bÃªn trong AvatarBuilder: cÃ¡c nÃºt chá»n lá»›p, cÃ¡c optionButton, nÃºt "Save"/"Cancel" pháº£i sá»­ dá»¥ng phong cÃ¡ch cá»§a ChoiceButton vÃ  mÃ u tá»« designSystem.
BÆ°á»›c 15: TÃ­ch há»£p GameLog vÃ o Chi Tiáº¿t NhÃ¢n Váº­t
HÃ nh Ä‘á»™ng: Loáº¡i bá» tab log khá»i BottomNav. Thay vÃ o Ä‘Ã³, tÃ­ch há»£p má»™t phiÃªn báº£n rÃºt gá»n cá»§a GameLog.tsx vÃ o CharacterDetailModal.
Chi tiáº¿t: Trong CharacterDetailModal.tsx (Ä‘Ã£ lÃ m láº¡i á»Ÿ BÆ°á»›c 9), thÃªm má»™t FlatList á»Ÿ dÆ°á»›i cÃ¹ng Ä‘á»ƒ render cÃ¡c LogEntry liÃªn quan Ä‘áº¿n nhÃ¢n váº­t Ä‘Ã³, táº¡o ra má»™t má»¥c "Sá»± kiá»‡n cuá»™c Ä‘á»i".
Giai Äoáº¡n 4: TÃ­ch Há»£p TÃ­nh NÄƒng Äá»™c Quyá»n vÃ  HoÃ n Thiá»‡n (BÆ°á»›c 16-20)
Giai Ä‘oáº¡n cuá»‘i cÃ¹ng Ä‘á»ƒ Ä‘Æ°a cÃ¡c tÃ­nh nÄƒng Ä‘áº·c trÆ°ng cá»§a báº¡n vÃ o vÃ  thÃªm pháº§n "há»“n" cho game.
BÆ°á»›c 16: XÃ¢y Dá»±ng MÃ n HÃ¬nh Assets & Career
HÃ nh Ä‘á»™ng: Táº¡o má»™t component má»›i, vÃ­ dá»¥ AssetsScreen.tsx.
Logic: Trong GameUI.tsx, khi activeScene lÃ  assets (Ä‘Æ°á»£c kÃ­ch hoáº¡t bá»Ÿi Tab 3 trÃªn BottomNav), render component nÃ y.
Ná»™i dung ban Ä‘áº§u: Hiá»ƒn thá»‹ component FamilyAssetsPanel bÃªn trong AssetsScreen.
BÆ°á»›c 17: TÃ¡i Thiáº¿t Káº¿ vÃ  TÃ­ch Há»£p FamilyAssetsPanel & BusinessMap
HÃ nh Ä‘á»™ng:
Thiáº¿t káº¿ láº¡i giao diá»‡n cá»§a FamilyAssetsPanel vÃ  AssetDetailModal Ä‘á»ƒ sá»­ dá»¥ng cÃ¡c component vÃ  style má»›i.
Trong AssetsScreen, thÃªm má»™t nÃºt/má»¥c menu Ä‘á»ƒ chuyá»ƒn sang BusinessMap.tsx.
Thiáº¿t káº¿ láº¡i cÃ¡c modal liÃªn quan Ä‘áº¿n kinh doanh (BusinessManagementModal, BusinessPurchaseModal) Ä‘á»ƒ sá»­ dá»¥ng LifeSimModal.
BÆ°á»›c 18: HoÃ n Thiá»‡n TÆ°Æ¡ng TÃ¡c Cá»‘t LÃµi trÃªn FamilyTree
HÃ nh Ä‘á»™ng: Trong FamilyTree.tsx, láº­p trÃ¬nh sá»± kiá»‡n onPress cá»§a má»—i CharacterNode.
Luá»“ng hoáº¡t Ä‘á»™ng: Sá»± kiá»‡n nÃ y sáº½ gá»i callback onSelectCharacter. Trong GameUI.tsx hoáº·c ModalManager.tsx, khi selectedCharacter thay Ä‘á»•i, nÃ³ sáº½ trigger viá»‡c hiá»ƒn thá»‹ CharacterDetailModal dÆ°á»›i dáº¡ng má»™t pop-up.
Lá»£i Ã­ch: NgÆ°á»i chÆ¡i cÃ³ thá»ƒ xem chi tiáº¿t vÃ  quáº£n lÃ½ nhÃ¢n váº­t ngay trÃªn cÃ¢y gia pháº£ mÃ  khÃ´ng cáº§n rá»i mÃ n hÃ¬nh chÃ­nh.
BÆ°á»›c 19: ThÃªm "Juice" (Hiá»‡u á»¨ng vÃ  Pháº£n Há»“i)
HÃ nh Ä‘á»™ng: NÃ¢ng cao tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng.
Ã‚m thanh: Táº­n dá»¥ng soundManager.play('click') Ä‘Ã£ cÃ³ trong ChoiceButton vÃ  thÃªm cÃ¡c Ã¢m thanh khÃ¡c cho viá»‡c nháº­n tiá»n, hoÃ n thÃ nh nhiá»‡m vá»¥...
Hiá»‡u á»©ng: ThÃªm hiá»‡u á»©ng chuyá»ƒn Ä‘á»™ng tinh táº¿ (fade, scale) cho LifeSimModal khi nÃ³ xuáº¥t hiá»‡n.
Pháº£n há»“i: KÃ­ch hoáº¡t hoáº¡t áº£nh tiá»n bay trÃªn HUD khi cÃ³ thu nháº­p.
BÆ°á»›c 20: RÃ  SoÃ¡t ToÃ n Diá»‡n vÃ  Äá»“ng Bá»™ HÃ³a
HÃ nh Ä‘á»™ng: ChÆ¡i láº¡i game vÃ  kiá»ƒm tra má»i mÃ n hÃ¬nh, ká»ƒ cáº£ nhá»¯ng mÃ n hÃ¬nh Ã­t dÃ¹ng.
Checklist: Má»Ÿ StartMenu.tsx, SummaryScreen.tsx, vÃ  WelcomeBackMenu.tsx. Cáº­p nháº­t StyleSheet cá»§a chÃºng Ä‘á»ƒ sá»­ dá»¥ng mÃ u sáº¯c, font chá»¯ vÃ  kiá»ƒu nÃºt tá»« designSystem, Ä‘áº£m báº£o toÃ n bá»™ tráº£i nghiá»‡m tá»« Ä‘áº§u Ä‘áº¿n cuá»‘i Ä‘á»u nháº¥t quÃ¡n.